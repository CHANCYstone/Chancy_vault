几个问题：

第一、用什么样的数据或者方法合适？
- 不知道应该采用什么样的数据
- 从哪找数据
- 什么样的数据是合适的

第二、用什么样的方法？
- 采用什么样的经济模型？


## 第一、找数据与清洗数据：

### 1. 我们需要什么样的数据？


数据处理的第一目的就是为了得到一个panel。这个panel包含被解释变量和若干解释变量。

**我们需要什么样的数据，这是我们找数据的第一个问题。**

- **被解释变量**
- **解释变量**
- 控制变量
- 调节变量or中介变量

这样分析下来就很简单了，我们需要什么数据？无过于两部分
- 第一、 解释与被解释
- 第二、其他控制变量
- 第三、调节变量

第一个不难找，是明确的。
第二个可以多找一些，目标就是让第一个显著。






### 2.从哪找数据？找什么样的数据？——方法与策略

首先，来看控制变量。什么样的控制变量合适呢？你就要去看相关的论文，看看论文是怎么说的。他们用哪些变量？别的学者做了那么多研究。





# [1] "province"           "year"               "coal_consumption"   "Newn_consumption"   "pop_1"             
# [6] "pop_2"              "rate_urban"         "gdp_toatal"         "gdp_person"         "cpi"               
# [11] "industry_1"         "industry_2"         "industry_3"         "public_expenditure" "export_volume_1"   
# [16] "exchange_rate"      "export_volume_2"    "dependency_rate"    "na" 
以上是我的panel的各列数据，coal_consumption是被解释变量，"Newn_consumption"是核心解释变量，我想在保持"province"           "year"               "coal_consumption"   "Newn_consumption"  "gdp_toatal"  这几个变量不动的情况下，探究解释变量的组合。根据model结果的显著性的高低，确定采取哪些为控制变量。能不能写一个程序




> [!NOTE] Reference
> **二、控制变量：**
控制变量是那些研究者认为可能影响因变量，但**不是**研究的主要关注点，且在研究中**不需要解释的变量**。
控制变量的目的是为了**隔离研究变量的影响，减少其他因素对结果的干扰。**
控制变量通常是**在现有文献或理论框架中已被证实的与因变量相关的变量。**






> [!NOTE] 关于数据清洗
> 在数据清洗方面，我们一般会使用dplyr， 它是Data science里面非常常用的一个功能，需要进行各种数据转换、分组等等操作。但是数据清洗通常是数据分析中耗时最长的一个过程，即使是简单的数据也需要花费相对较长的时间进行清洗。虽然在使用SPSS的过程中，我们已经形成了一个非常快速的数据分析思维，但是在使用计算机语言进行数据分析时，这个过程完全不同，需要花费大量时间进行数据清洗。即使是行为学数据，甚至是简单的反应时数据，也需要进行**相对较长时间的数据清洗**。
> 
这里面可能有几个图没有截过来，**在数据科学中，无论你从事哪个领域，完成一个数据分析项目的时间通常会包括从数据清洗到最终分析以及报告撰写**。其中，**数据清洗通常会占用至少60%的时间**，这个过程可能需要反复查看和修改。传统的做研究的方式并不习惯分享数据，因为整理和清洗数据需要很长时间。**即使你的文章已经发表，清洗数据所花费的时间也可能会被认为是浪费的，尽管有时会带来间接的回报，如其他人可能会重新使用你的数据或发现你的分析的可重复性很高**。
****



> [!NOTE] 关于画图
> 另一个耗时的任务是画图，尽管这些图看起来很漂亮，但需要不断地调整和修改。有时，研究者会花很长时间去完美地绘制图表，而这些时间可以用来完成其他任务。经常会有研究在这个社交媒体上，他自己比方说做统计分析发了一分钟，然后画图画了两天的时间，就是不断的去调，并不是他不会画图，而是他总是觉得画出来这个图不满意，然后就不断的调整，不断调整最后发现，时间就没了，并且呢你也会发现呢，就是当你掌握了不同的这个，画图的这个方法以后呢你会不断的去想，我能不能找到一个更合适的方法，去对他进行更好的一个可视化，我没有来得及把我自己之前的一个画的图的这个历程贴上去，我刚开始就是最简单的这个，跟我们在，Excel里面画的那个图是一样的，就是一个直方图上面加一个error bar，这是我一开始用来画的用APA的格式，后来就变成那个带散点的，再后来变成了那个raincloud，然后就是raincloud加box，然后加这个distribution，然后最后又回到了这个散点的，加上这个主题，就是groups这些。所以其实这个画图的时间需要大家当你熟练了以后也需要适可而止，差不多能够传达你的这个信息就可以停止了，要不然的话，这个画图的提高是没有止境的，有的也可能可以看有的时候也看到，就比方说一些好的期刊，比如像经济学人他们涉及到数据的时候，像比方说， 我们说Nature、Science或者PS对吧，nature Communications，当他们涉及到数据的图的时候，那都是非常漂亮的，包括他们配色包括的比例各方面，他实际上都是经过了，就是专业的人士进行调试的。那么有的时候其实我们要想要达到这个类似的效果的话，也需要花很长的时间去做这些细节的工作。但假如我们只是按照心理学传统的做法，Excel的那种一个bar图加一个error bar的那种非常快基本上几行代码就可以搞定。



## 第二、关于实证模型：


> [!NOTE] Reference
> 实证研究的诀窍 这些诀窍讲的是“如何进行实证研究”，而不仅仅是“如何写实证论文”；但总的来看，“做” 和“写”的差别并不大。 **实证研究中最重要的三点是什么？是因果识别（identification）、因果识别、因果识别。** 务必阐明因果识别的策略（当然，首先要理解因果识别的策略是什么）。许多实证研究可归结.
> “A 导致了 B”，通常用某种回归估计进行佐证。你要解释你所看到的数据中的因果关系是如何 被识别的。
>  1. 要描述**哪些经济机制导致了自变量（右边变量）的差异**。不过，上天赐给我们的真正 的自然实验是少之又少的。
>  2. 要描述清楚残差中包含了哪些经济机制。除右边变量（自变量）外，导致左边变量（因 变量）变动的因素还有哪些？ 
>  3. 因此，需要从**经济学的角度说明扰动项为何与右边变量不相关**。除非你做好了前面两项，要不然你无法解释清楚这一关键假设。
>  4. 从经济学的角度说明**为何工具变量与右边变量相关，但与扰动项不相关**。
>  5. 工具变量和控制变量之间的差异是什么？将 y 对 x 回归，何时 z 应作为自变量加到右边， 何时 z 应作为 x 的工具变量？
>  6. 对你所报告的每一个估计数字，要说明数据中哪些变量的差异导致了估计结果。例如， 加入固定效应之后，相应的解释会截然不同。在回归方程中加入公司固定效应后，每 个公司内部的时变因素会影响回归系数。若回归方程中没有加入公司固定效应，回归 系数往往取决于在某一时刻上各个公司之间的差异。
>  7. 你确信你看到的是需求曲线，而不是供给曲线吗？要想澄清这一问题，请自问“你在 对谁的行为建模？”例如，你感兴趣的是利率如何影响住房需求，并用新增贷款量对 利率作回归。但如果其他因素导致住房需求变得很大时，住房抵押贷款需求（以及与 住房抵押贷款需求相关的其它贷款需求）也会抬高利率。你的暗含假设是需求曲线是 不变的，价格的提高会降低需求量。但数据可能是因为供给曲线不变而产生的，从而 增加的需求会抬高价格，或者需求与价格交互攀升。你是在对房屋购买者的行为建模， 还是在对储蓄者的行为建模呢（储蓄会如何对利率变动做出反应）
>  8. 你能肯定不会是 y 导致了 x？或者 z 同时导致了 y 和 x？看看下面反向因果关系的例子 吧。例如：前一个例子也是一种因果关系：究竟是利率变动导致了住房需求的变动， 还是住房需求的变动导致了利率的变动呢（或者是整体宏观经济状况同时导致了利率 和住房需求的变动）？
>  9. 仔细斟酌自变量中应包括哪些变量，不应包括哪些变量。大多数论文中引入的自变量 过多。大可不必把决定 y 的所有因素都作为自变量。 a. R2 较高通常是坏事—这意味着回归方程是左脚的鞋子数量 = α + β×右脚的鞋子数量 + γ×价格 + 扰动项。右脚的鞋子数量不应该作为控制变量。 b. 不要做这样的回归：工资 = a + b×教育程度 + c ×行业 + 扰动项。固然，加入行 业变量是会提高 R2，并且行业变量也是影响工资的重要因素(如果你做好了前述的 第 2 项，它应该在扰动项里)，但教育的主要目的是帮助人们进入更好的行业，而 不是从助理汉堡师傅擢升为首席汉堡师傅。 只报告估计值和 p 值是不够的，要说明数据中导致估计结果的事实或规律。Fama 和 French 1996 年的论文《多因子解释》(Multifactor explanations)便是一个很好的例子。
>  按照过去的文献 惯例，只需要报告一个数字：GRS 检验。Fama 和 French 展示了每个投资组合的期望收益和 β 值，并说服读者相信期望收益的规律与 β 值的规律相吻合。虽然 GRS 检验糟糕透顶，但该文提 出了近 15 年来最成功的因子模型！他们之所以成功了，是因为他们揭示了数据背后的固有规律。 务必阐明结果的经济上的重要性。除了说明核心数字统计上的显著性外，还应阐明它们在 经济上的重要性。特别是对大型面板数据集，即便是极小的经济效应，在统计上也会显著。（对 于大型面板数据集，若 t 统计量为 2.10，估计出来的效应确实非常微小！） 当然，每个重要的估计值都要报告其标准误。
> 
